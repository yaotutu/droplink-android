<?xml version="1.0" encoding="utf-8"?>
<!--
    数据提取规则配置（Android 12+ 使用此文件）

    为什么排除登录凭证：
    - 安全性：token、密码等敏感信息不应备份到云端
    - 开发体验：卸载应用应该完全清空登录状态，方便测试

    详细文档：https://developer.android.com/about/versions/12/backup-restore#xml-changes
-->
<data-extraction-rules>
    <cloud-backup>
        <!-- 排除用户会话数据（登录状态、用户信息） -->
        <exclude domain="sharedpref" path="droplink_session.xml"/>

        <!-- 排除 Token 数据（appToken、clientToken） -->
        <exclude domain="sharedpref" path="droplink_tokens.xml"/>
    </cloud-backup>

    <!--
        设备间传输规则（例如：换新手机时的数据迁移）
        同样排除敏感登录凭证
    -->
    <device-transfer>
        <exclude domain="sharedpref" path="droplink_session.xml"/>
        <exclude domain="sharedpref" path="droplink_tokens.xml"/>
    </device-transfer>
</data-extraction-rules>